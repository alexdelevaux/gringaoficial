<h1 class="text-center titulo color-empleado  mb-4">Empleados</h1>

<div class="text-center">
  <button type="button" (click)="abrirDialogo()" class="btn boton-empleado mb-1">Nuevo Empleado</button>
</div>

<p-table [value]="empleados" selectionMode="single" [(selection)]="empleadoElegido" datakey="id">
  <ng-template pTemplate="header">
      <tr>
          <th>ID</th>
          <th>Nombre</th>
          <th>Apellido</th>
          <th>Usuario</th>
          <th>Rol</th>
          <th>Estado</th>
          <th>Observaciones</th>
          <th>Opciones</th>
      </tr>
  </ng-template>
  <ng-template pTemplate="body" let-empleado>
      <tr>
          <td>{{empleado.id}}</td>
          <td>{{empleado.nombre}}</td>
          <td>{{empleado.apellido}}</td>
          <td>{{empleado.usuario}}</td>
          <td>{{empleado.rol}}</td>
          <td>{{empleado.estado}}</td>
          <td>{{empleado.observaciones}}</td>
          <td>
            <button type="button" (click)="borrar(empleado)" class="btn btn-danger btn-sm"><i class="far fa-trash-alt"></i></button>
            <button type="button" (click)="actualizar(empleado)" class="btn btn-success btn-sm"><i class="fas fa-edit"></i></button>
          </td>
      </tr>
  </ng-template>

</p-table>

<button type="button" (click)="abrirDialogo()" class="btn boton-empleado">Nuevo Empleado</button>

<p-dialog header="Detalles" [(visible)]="displayDialog" [responsive]="true" showEffect="fade" [modal]="true" [width]="500">
  <div class="ui-g ui-fluid" *ngIf="empleado">

      <div class="ui-g-12">
          <div class="ui-g-4">
              <label for="nombre">Nombre</label>
          </div>
          <div class="ui-g-8">
              <input pInputText id="nombre" placeholder="" [(ngModel)]="empleado.nombre" />
          </div>
      </div>

      <div class="ui-g-12">
          <div class="ui-g-4">
              <label for="apellido">Apellido</label>
          </div>
          <div class="ui-g-8">
              <input pInputText id="apellido" placeholder="" [(ngModel)]="empleado.apellido" />
          </div>
      </div>

      <div class="ui-g-12">
          <div class="ui-g-4">
              <label for="usuario">Usuario</label>
          </div>
          <div class="ui-g-8">
              <input pInputText id="usuario" placeholder="" [(ngModel)]="empleado.usuario" />
          </div>
      </div>

      <div class="ui-g-12">
          <div class="ui-g-4">
              <label for="contrasena">Contraseña</label>
          </div>
          <div class="ui-g-8">
              <input type="password" pPassword
              weakLabel="Contraseña débil!"
              mediumLabel="Un poco mejor"
              strongLabel="Contraseña segura!"
              promptLabel="Ingrese una contraseña" id="contrasena" placeholder="" [(ngModel)]="empleado.contrasena" />
          </div>
      </div>

      <div class="ui-g-12">
          <div class="ui-g-4">
              <label for="rol">Rol</label>
          </div>
          <div class="ui-g-8">
              <input pInputText id="rol" placeholder="" [(ngModel)]="empleado.rol" />
          </div>
      </div>

      <div class="ui-g-12">
          <div class="ui-g-4">
              <label for="estado">Estado</label>
          </div>
          <div class="ui-g-8">
              <input pInputText id="estado" placeholder="" [(ngModel)]="empleado.estado" />
          </div>
      </div>

      <div class="ui-g-12">
          <div class="ui-g-4">
              <label for="observaciones">Observaciones</label>
          </div>
          <div class="ui-g-8">
              <input pInputText id="observaciones" placeholder="" [(ngModel)]="empleado.observaciones" />
          </div>
      </div>

  </div>
  <p-footer>
      <div class="ui-dialog-buttonpane ui-helper-clearfix">
          <!-- <button type="button" pButton icon="fa fa-close" (click)="delete()" label="Delete"></button> -->
          <button type="button" pButton icon="fa fa-check" (click)="save()" label="Guardar"></button>
      </div>
  </p-footer>
</p-dialog>

<p-toast key="nuevoEmpleado"></p-toast>

<p-toast key="cambioEmpleado"></p-toast>

<p-toast key="borraEmpleado"></p-toast>

<p-confirmDialog></p-confirmDialog>
