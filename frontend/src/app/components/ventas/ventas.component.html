<h1 class="text-center titulo color-venta  mb-4">Ventas</h1>

<div class="text-center">
  <button type="button" (click)="abrirDialogo()" class="btn boton-venta mb-1">Nueva Venta</button>
</div>

<p-table [value]="ventas" selectionMode="single" [(selection)]="ventaElegida" datakey="id">
  <ng-template pTemplate="header">
      <tr>
          <th>ID</th>
          <th>Empleado</th>
          <th>Total</th>
          <th>Creado</th>
          <th>Actualizado</th>
          <th>Observaciones</th>
          <th>Opciones</th>
      </tr>
  </ng-template>
  <ng-template pTemplate="body" let-venta>
      <tr>
          <td>{{venta.id}}</td>
          <td>{{venta.idEmpleado}}</td>
          <td>$ {{venta.total}}</td>
          <td>{{venta.createdAt}}</td>
          <td>{{venta.updatedAt}}</td>
          <td>{{venta.observaciones}}</td>
          <td>
            <button type="button" (click)="borrar(venta)" class="btn btn-danger btn-sm"><i class="far fa-trash-alt"></i></button>
            <button type="button" (click)="actualizar(venta)" class="btn btn-success btn-sm"><i class="fas fa-edit"></i></button>
          </td>
      </tr>
  </ng-template>

</p-table>

<button type="button" (click)="abrirDialogo()" class="btn boton-venta">Nueva Venta</button>

<p-dialog header="Detalles" [(visible)]="displayDialog" [responsive]="true" showEffect="fade" [modal]="true" [width]="500">
  <div class="ui-g ui-fluid" *ngIf="producto">

      <div class="ui-g-12">
          <div class="ui-g-4">
              <label for="total">Total</label>
          </div>
          <div class="ui-g-8">
              <input pInputText id="total" placeholder="" [(ngModel)]="venta.total" />
          </div>
      </div>

      <div class="ui-g-12">
          <div class="ui-g-4">
              <label for="estado">Estado</label>
          </div>
          <div class="ui-g-8">
              <input pInputText id="estado" placeholder="" [(ngModel)]="producto.estado" />
          </div>
      </div>

      <div class="ui-g-12">
          <div class="ui-g-4">
              <label for="precioVenta">Precio de Venta</label>
          </div>
          <div class="ui-g-8">
              <input pInputText id="precioVenta" placeholder="" [(ngModel)]="producto.precioVenta" />
          </div>
      </div>


      <div class="ui-g-12">
          <div class="ui-g-4">
              <label for="observaciones">Observaciones</label>
          </div>
          <div class="ui-g-8">
              <input pInputText id="observaciones" placeholder="" [(ngModel)]="producto.observaciones" />
          </div>
      </div>


  </div>
  <p-footer>
      <div class="ui-dialog-buttonpane ui-helper-clearfix">
          <!-- <button type="button" pButton icon="fa fa-close" (click)="delete()" label="Delete"></button> -->
          <button type="button" pButton icon="fa fa-check" (click)="save()" label="Guardar"></button>
      </div>
  </p-footer>
</p-dialog>

<p-toast [style]="{marginTop: '80px'}" key="nuevaVenta"></p-toast>

<p-toast [style]="{marginTop: '80px'}" key="cambioVenta"></p-toast>

<p-toast [style]="{marginTop: '80px'}" key="borraVenta"></p-toast>

<p-confirmDialog></p-confirmDialog>
